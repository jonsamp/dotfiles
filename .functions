#!/usr/bin/env bash

function ports {
	if [ -n "$1" ]; then
		lsof -wni tcp:$1
	else
		echo "Make sure to provide the port's number. Example: ports 3000"
	fi;
}

function kill {
	if [ -n "$1" ]; then
    lsof -ti:$1 | xargs kill
	else
		echo "Provide the port. Example: kill 3000"
	fi;
}

function pullall {
	for d in *; do
		echo $'\n'
		echo $d
		cd $d
		git checkout master
		git pull
		cd ..
	done
}

function prunebranches {
	master
	git remote prune origin --dry-run | grep origin/@jonsamp | sed 's/^.*origin\///g' | xargs -L1 -J % git push origin --delete %
}

function dotfiles {
	cwd=$(pwd)
	cd ~/Library/Mobile\ Documents/com~apple~CloudDocs/Files/development/dotfiles
	sh update_dotfiles.sh
	cd $cwd
}

function import_dotfiles {
	cwd=$(pwd)
	cd ~/Library/Mobile\ Documents/com~apple~CloudDocs/Files/development/dotfiles
	sh import_dotfiles.sh
	cd $cwd
}